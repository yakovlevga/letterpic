{"version":3,"file":"index-browser.js","sources":["src/defaults.ts","src/providers/helpers.ts","src/providers/bgProviderColor.ts","src/providers/bgProviderGradient.ts","src/letterpic.ts"],"sourcesContent":["import { LetterPicSettings } from 'types/core';\r\n\r\nexport const LETTER_PIC_DEFAULTS: LetterPicSettings = {\r\n  fill: 'gradient',\r\n  colors: [\r\n    '#F44336',\r\n    '#673AB7',\r\n    '#03A9F4',\r\n    '#4CAF50',\r\n    '#FFEB3B',\r\n    '#FF5722',\r\n    '#607D8B',\r\n    '#E91E63',\r\n    '#3F51B5',\r\n    '#00BCD4',\r\n    '#8BC34A',\r\n    '#FFC107',\r\n    '#795548',\r\n    '#9C27B0',\r\n    '#2196F3',\r\n    '#009688',\r\n    '#CDDC39',\r\n    '#FF9800',\r\n    '#9E9E9E',\r\n  ],\r\n\r\n  gradients: [\r\n    ['#E57373', '#B71C1C'],\r\n    ['#673AB7', '#7E57C2'],\r\n    ['#03A9F4', '#039BE5'],\r\n    ['#4CAF50', '#43A047'],\r\n    ['#FFEB3B', '#F57F17'],\r\n    ['#FF5722', '#D84315'],\r\n    ['#607D8B', '#455A64'],\r\n    ['#E91E63', '#C2185B'],\r\n    ['#3F51B5', '#303F9F'],\r\n    ['#00BCD4', '#0097A7'],\r\n    ['#8BC34A', '#689F38'],\r\n    ['#FFC107', '#FFA000'],\r\n    ['#795548', '#5D4037'],\r\n    ['#9C27B0', '#8E24AA'],\r\n    ['#2196F3', '#1976D2'],\r\n    ['#009688', '#00796B'],\r\n    ['#CDDC39', '#AFB42B'],\r\n    ['#FF9800', '#F57C00'],\r\n    ['#9E9E9E', '#757575'],\r\n  ],\r\n\r\n  font: 'Arial',\r\n  fontColor: '#fff',\r\n  fontStrokeColor: '#000',\r\n  fontSize: 0.45,\r\n  imageOverlayColor: 'rgba(0, 0, 0, 0)',\r\n  maxInitialsLength: 2,\r\n  // if it's true, it uses global cache for different calls\r\n  useGlobalCache: true,\r\n  // set default images\r\n  images: [],\r\n};\r\n\r\nconst defaultImgPath = 'patterns';\r\nconst defaultImgCount = 8;\r\nconst defaultImgExt = '.png';\r\nfor (let i = 1; i <= defaultImgCount; i++) {\r\n  LETTER_PIC_DEFAULTS.images.push(defaultImgPath + '/' + i + defaultImgExt);\r\n}\r\n","import { LetterPickFontSettings } from 'types/core';\r\n\r\nconst CANVAS_CONTEXT_SCALE = window.devicePixelRatio;\r\n\r\nexport const drawText = (\r\n  context: CanvasRenderingContext2D,\r\n  settings: LetterPickFontSettings,\r\n  text: string\r\n) => {\r\n  const { width, height } = context.canvas;\r\n  var fontSize = width * settings.fontSize;\r\n  context.font = `${fontSize}px ${settings.font}`;\r\n  context.textAlign = 'center';\r\n\r\n  var posX = width / 2;\r\n  var posY = (fontSize + height) * 0.45;\r\n\r\n  if (settings.fontStrokeColor) {\r\n    context.shadowColor = settings.fontStrokeColor;\r\n    context.shadowColor = 'black';\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 3;\r\n  }\r\n\r\n  context.fillStyle = settings.fontColor;\r\n  context.fillText(text, posX, posY);\r\n};\r\n\r\nexport const getCanvasContextScaled = (htmlCanvas: HTMLCanvasElement) => {\r\n  var context = htmlCanvas.getContext('2d')!;\r\n  var scale = CANVAS_CONTEXT_SCALE;\r\n  context.scale(scale, scale);\r\n  return context;\r\n};\r\n\r\nexport const scaleCanvasContext = (htmlCanvas: HTMLCanvasElement) => {\r\n  var scale = CANVAS_CONTEXT_SCALE;\r\n  htmlCanvas.width = scale * htmlCanvas.width;\r\n  htmlCanvas.height = scale * htmlCanvas.height;\r\n};\r\n\r\nexport const prepareCanvasContext = (htmlCanvas: HTMLCanvasElement) => {\r\n  scaleCanvasContext(htmlCanvas);\r\n  return getCanvasContextScaled(htmlCanvas);\r\n};\r\n\r\n// export const getBackground = (fill: LetterPicFillType, text: string) => {\r\n//   var bg;\r\n//   if (!self.cache[fill]) {\r\n//     self.cache[fill] = {};\r\n//   }\r\n//   if (!self.cache[fill][key]) {\r\n//     if (bgs.length === 0) bgs = provider.bgs.slice().reverse();\r\n//     bg = bgs.pop();\r\n//     self.cache[fill][key] = bg;\r\n//   } else {\r\n//     bg = self.cache[fill][key];\r\n//   }\r\n//   return bg;\r\n// };\r\n","import { drawText } from 'providers/helpers';\r\nimport { LetterPicProvider, LetterPicSettings } from 'types/core';\r\n\r\nexport const bgProviderColor: LetterPicProvider = (\r\n  settings: LetterPicSettings\r\n) => {\r\n  let bgIdx = 0;\r\n\r\n  const getBackground = (text: string): CanvasFillStrokeStyles['fillStyle'] => {\r\n    if (window.letterpic.backgrounds[text] === undefined) {\r\n      const nextColor = settings.colors[bgIdx++ % settings.colors.length];\r\n      window.letterpic.backgrounds[text] = nextColor;\r\n    }\r\n\r\n    return window.letterpic.backgrounds[text]!;\r\n  };\r\n\r\n  return (context: CanvasRenderingContext2D, text: string): void => {\r\n    context.fillStyle = getBackground(text);\r\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n    drawText(context, settings, text);\r\n  };\r\n};\r\n","import { drawText } from 'providers/helpers';\r\nimport type {\r\n  LetterPicGradient,\r\n  LetterPicProvider,\r\n  LetterPicSettings,\r\n} from 'types/core';\r\n\r\nconst getLinearGradient = (\r\n  context: CanvasRenderingContext2D,\r\n  colors: LetterPicGradient\r\n): CanvasGradient => {\r\n  const gradient = context.createLinearGradient(0, 0, 0, context.canvas.height);\r\n  gradient.addColorStop(0, colors[0]);\r\n  var gradientStep = 1 / (colors.length - 1);\r\n  for (var i = 1; i < colors.length - 1; i++) {\r\n    gradient.addColorStop(i * gradientStep, colors[i]);\r\n  }\r\n  gradient.addColorStop(1, colors[colors.length - 1]);\r\n  return gradient;\r\n};\r\n\r\nexport const bgProviderGradient: LetterPicProvider = (\r\n  settings: LetterPicSettings\r\n) => {\r\n  let bgIdx = 0;\r\n\r\n  const getBackground = (\r\n    context: CanvasRenderingContext2D,\r\n    text: string\r\n  ): CanvasFillStrokeStyles['fillStyle'] => {\r\n    if (window.letterpic.backgrounds[text] === undefined) {\r\n      const nextGradient = getLinearGradient(\r\n        context,\r\n        settings.gradients[bgIdx++ % settings.colors.length]\r\n      );\r\n      window.letterpic.backgrounds[text] = nextGradient;\r\n    }\r\n\r\n    return window.letterpic.backgrounds[text]!;\r\n  };\r\n\r\n  return (context: CanvasRenderingContext2D, text: string): void => {\r\n    context.fillStyle = getBackground(context, text);\r\n    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n    drawText(context, settings, text);\r\n  };\r\n};\r\n","import {\r\n  LetterPicProvider,\r\n  LetterPicFillType,\r\n  LetterPicSettings,\r\n} from 'types/core';\r\nimport { LETTER_PIC_DEFAULTS } from 'defaults';\r\nimport { bgProviderColor } from 'providers/bgProviderColor';\r\nimport { bgProviderGradient } from 'providers/bgProviderGradient';\r\n// import { bgProviderImage } from 'providers/bgProviderImage.ts1';\r\nimport { prepareCanvasContext } from 'providers/helpers';\r\n\r\nconst PROVIDERS: Record<LetterPicFillType, LetterPicProvider> = {\r\n  color: bgProviderColor,\r\n  gradient: bgProviderGradient,\r\n  image: bgProviderColor,\r\n  // image: bgProviderImage,\r\n};\r\n\r\nconst initGlobals = () => {\r\n  if (!window.letterpic) {\r\n    window.letterpic = window.letterpic || {\r\n      backgrounds: {},\r\n    };\r\n  }\r\n};\r\n\r\nexport const letterPic = (userSettings?: Partial<LetterPicSettings>) => {\r\n  initGlobals();\r\n\r\n  const settings: LetterPicSettings = {\r\n    ...userSettings,\r\n    ...LETTER_PIC_DEFAULTS,\r\n    fill: getFillTypeFromSettings(userSettings),\r\n  };\r\n\r\n  const provider = PROVIDERS[settings.fill](settings);\r\n  return (canvas: HTMLCanvasElement, text: string) =>\r\n    provider(prepareCanvasContext(canvas), text);\r\n  // TODO\r\n  // if (self.settings.initial) {\r\n  //   for (var fill in self.settings.initial) {\r\n  //     if (!self.cache[fill]) self.cache[fill] = {};\r\n  //     var bgs = self.settings.initial[fill];\r\n  //     for (var key in bgs) {\r\n  //       self.cache[fill][key] = bgs[key];\r\n  //     }\r\n  //   }\r\n  // }\r\n  // self.drawProvider = self.drawProviders[self.settings.fill](self.settings);\r\n};\r\n\r\nfunction getFillTypeFromSettings(\r\n  userSettings?: Partial<LetterPicSettings>\r\n): LetterPicFillType {\r\n  if (userSettings?.fill !== undefined) {\r\n    return userSettings?.fill;\r\n  } else if (userSettings?.colors !== undefined) {\r\n    return 'color';\r\n  } else if (userSettings?.gradients !== undefined) {\r\n    return 'gradient';\r\n  } else if (userSettings?.images !== undefined) {\r\n    return 'image';\r\n  }\r\n\r\n  return LETTER_PIC_DEFAULTS.fill;\r\n}\r\n\r\n// $.fn.letterpic = function (options) {\r\n//     var self = this;\r\n//     self.$letterpics = [];\r\n//     self.options = options || {};\r\n\r\n//     var lp = new LetterPic(options);\r\n\r\n//     this.each(function () {\r\n//         var $el = $(this);\r\n\r\n//         if ($el.is(\"img\")) {\r\n//             if (!isImageOk($el[0])) {\r\n//                 var $canvas = replaceWithCanvas($el);\r\n//                 if(self.options.onImageError) {\r\n//                     self.options.onImageError($canvas, $el.attr('src'));\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 $el.on(\"error\", onImageError);\r\n//             }\r\n//         }\r\n//         else {\r\n//             replaceWithCanvas($el);\r\n//         }\r\n//     });\r\n\r\n//     function getKey($el) {\r\n//         var key =\r\n//             $el.data().letterpicKey ||\r\n//             $el.data().letterpicUserId ||\r\n//             $el.data().userid ||\r\n//             getInitials($el);\r\n\r\n//         return key;\r\n//     }\r\n\r\n//     function getInitials($el) {\r\n//         var name = $el.attr(\"title\");\r\n\r\n//         var splitted = name.split(\" \");\r\n//         var result = splitted[0].charAt(0).toUpperCase();\r\n//         for(var i = 1; i < lp.settings.maxInitialsLength; i++) {\r\n//             if (splitted.length > i) {\r\n//                 result += splitted[i].charAt(0).toUpperCase();\r\n//             }\r\n//         }\r\n\r\n//         return result;\r\n//     }\r\n\r\n//     function isImageOk(img) {\r\n//         if (!img.complete || (typeof img.naturalWidth !== \"undefined\" && img.naturalWidth === 0)) {\r\n//             return false;\r\n//         }\r\n//         return true;\r\n//     }\r\n\r\n//     function onImageError(event) {\r\n//         var $img = $(event.target);\r\n//         $img.off(\"error\", onImageError);\r\n//         replaceWithCanvas($img, true);\r\n\r\n//         if(self.options.onImageError) {\r\n//             self.options.onImageError($canvas, $img.attr('src'));\r\n//         }\r\n//     }\r\n\r\n//     function replaceWithCanvas($el, isBrokenImage) {\r\n//         var $canvas;\r\n//         if ($el.is(\"canvas\")) {\r\n//             $canvas = $el;\r\n//         }\r\n//         else {\r\n//             $canvas = $(\"<canvas></canvas>\");\r\n//             $.each($el[0].attributes, function (i, attribute) {\r\n//                 $canvas.attr(attribute.name, attribute.value);\r\n//             });\r\n//             $el.replaceWith($canvas);\r\n//         }\r\n\r\n//         var key = getKey($canvas);\r\n//         var text = getInitials($canvas);\r\n//         lp.drawProvider.draw($canvas, key, text);\r\n\r\n//         self.$letterpics.push($canvas);\r\n\r\n//         if(self.options.onElementReplaced) {\r\n//             isBrokenImage = isBrokenImage || false;\r\n//             self.options.onElementReplaced($canvas, isBrokenImage);\r\n//         }\r\n\r\n//         return $canvas;\r\n//     }\r\n\r\n//     return $($.map(self.$letterpics, function($el){\r\n//         return $el.get();\r\n//     }));;\r\n// };\r\n"],"names":[],"mappings":"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"}