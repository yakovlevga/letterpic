{"version":3,"file":"letterpic.js","sources":["../src/defaults.ts","../src/md5.ts","../src/helpers.ts","../src/providers/palette.ts","../src/providers/gradient.ts","../src/providers/color.ts","../src/letterpic.ts"],"sourcesContent":["import { LetterPicSettings } from 'types/core';\r\n\r\nexport const defaultColors = [\r\n  '#f44336',\r\n  '#673ab7',\r\n  '#03a9f4',\r\n  '#4caf50',\r\n  '#ffeb3b',\r\n  '#ff5722',\r\n  '#607d8b',\r\n  '#e91e63',\r\n  '#3f51b5',\r\n  '#00bcd4',\r\n  '#8bc34a',\r\n  '#ffc107',\r\n  '#795548',\r\n  '#2196f3',\r\n  '#009688',\r\n  '#cddc39',\r\n  '#ff9800',\r\n  '#9e9e9e',\r\n  '#1abc9c',\r\n  '#2ecc71',\r\n  '#3498db',\r\n  '#9b59b6',\r\n  '#34495e',\r\n  '#16a085',\r\n  '#27ae60',\r\n  '#2980b9',\r\n  '#8e44ad',\r\n  '#f1c40f',\r\n  '#e67e22',\r\n  '#e74c3c',\r\n  '#ecf0f1',\r\n  '#95a5a6',\r\n  '#f39c12',\r\n  '#d35400',\r\n  '#c0392b',\r\n];\r\n\r\nexport const LETTER_PIC_DEFAULTS: LetterPicSettings = {\r\n  fill: 'gradient',\r\n  size: 100,\r\n  font: 'Arial',\r\n  fontColor: '#fff',\r\n  fontStrokeColor: '#000',\r\n  fontSize: 0.45,\r\n  maxInitialsLength: 2,\r\n};\r\n","/**\n * Credit http://www.myersdaily.org/joseph/javascript/md5-text.html\n */\n\nfunction md5cycle(x: any, k: any) {\n  var a = x[0],\n    b = x[1],\n    c = x[2],\n    d = x[3];\n\n  a = ff(a, b, c, d, k[0], 7, -680876936);\n  d = ff(d, a, b, c, k[1], 12, -389564586);\n  c = ff(c, d, a, b, k[2], 17, 606105819);\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\n  a = ff(a, b, c, d, k[4], 7, -176418897);\n  d = ff(d, a, b, c, k[5], 12, 1200080426);\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\n  b = ff(b, c, d, a, k[7], 22, -45705983);\n  a = ff(a, b, c, d, k[8], 7, 1770035416);\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\n  c = ff(c, d, a, b, k[10], 17, -42063);\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\n  a = ff(a, b, c, d, k[12], 7, 1804603682);\n  d = ff(d, a, b, c, k[13], 12, -40341101);\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\n  b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n  a = gg(a, b, c, d, k[1], 5, -165796510);\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\n  c = gg(c, d, a, b, k[11], 14, 643717713);\n  b = gg(b, c, d, a, k[0], 20, -373897302);\n  a = gg(a, b, c, d, k[5], 5, -701558691);\n  d = gg(d, a, b, c, k[10], 9, 38016083);\n  c = gg(c, d, a, b, k[15], 14, -660478335);\n  b = gg(b, c, d, a, k[4], 20, -405537848);\n  a = gg(a, b, c, d, k[9], 5, 568446438);\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\n  c = gg(c, d, a, b, k[3], 14, -187363961);\n  b = gg(b, c, d, a, k[8], 20, 1163531501);\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\n  d = gg(d, a, b, c, k[2], 9, -51403784);\n  c = gg(c, d, a, b, k[7], 14, 1735328473);\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n  a = hh(a, b, c, d, k[5], 4, -378558);\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\n  c = hh(c, d, a, b, k[11], 16, 1839030562);\n  b = hh(b, c, d, a, k[14], 23, -35309556);\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\n  d = hh(d, a, b, c, k[4], 11, 1272893353);\n  c = hh(c, d, a, b, k[7], 16, -155497632);\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\n  a = hh(a, b, c, d, k[13], 4, 681279174);\n  d = hh(d, a, b, c, k[0], 11, -358537222);\n  c = hh(c, d, a, b, k[3], 16, -722521979);\n  b = hh(b, c, d, a, k[6], 23, 76029189);\n  a = hh(a, b, c, d, k[9], 4, -640364487);\n  d = hh(d, a, b, c, k[12], 11, -421815835);\n  c = hh(c, d, a, b, k[15], 16, 530742520);\n  b = hh(b, c, d, a, k[2], 23, -995338651);\n\n  a = ii(a, b, c, d, k[0], 6, -198630844);\n  d = ii(d, a, b, c, k[7], 10, 1126891415);\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\n  b = ii(b, c, d, a, k[5], 21, -57434055);\n  a = ii(a, b, c, d, k[12], 6, 1700485571);\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\n  c = ii(c, d, a, b, k[10], 15, -1051523);\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\n  a = ii(a, b, c, d, k[8], 6, 1873313359);\n  d = ii(d, a, b, c, k[15], 10, -30611744);\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\n  b = ii(b, c, d, a, k[13], 21, 1309151649);\n  a = ii(a, b, c, d, k[4], 6, -145523070);\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\n  c = ii(c, d, a, b, k[2], 15, 718787259);\n  b = ii(b, c, d, a, k[9], 21, -343485551);\n\n  x[0] = add32(a, x[0]);\n  x[1] = add32(b, x[1]);\n  x[2] = add32(c, x[2]);\n  x[3] = add32(d, x[3]);\n}\n\nfunction cmn(q: any, a: any, b: any, x: any, s: any, t: any) {\n  a = add32(add32(a, q), add32(x, t));\n  return add32((a << s) | (a >>> (32 - s)), b);\n}\n\nfunction ff(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\n\nfunction gg(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\n\nfunction hh(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction md51(s: string) {\n  // var txt = '';\n  var n = s.length,\n    state = [1732584193, -271733879, -1732584194, 271733878],\n    i;\n  for (i = 64; i <= s.length; i += 64) {\n    md5cycle(state, md5blk(s.substring(i - 64, i)));\n  }\n  s = s.substring(i - 64);\n  var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (i = 0; i < s.length; i++)\n    tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n  tail[i >> 2] |= 0x80 << (i % 4 << 3);\n  if (i > 55) {\n    md5cycle(state, tail);\n    for (i = 0; i < 16; i++) tail[i] = 0;\n  }\n  tail[14] = n * 8;\n  md5cycle(state, tail);\n  return state;\n}\n\n/* there needs to be support for Unicode here,\n * unless we pretend that we can redefine the MD-5\n * algorithm for multi-byte characters (perhaps\n * by adding every four 16-bit characters and\n * shortening the sum to 32 bits). Otherwise\n * I suggest performing MD-5 as if every character\n * was two bytes--e.g., 0040 0025 = @%--but then\n * how will an ordinary MD-5 sum be matched?\n * There is no way to standardize text to something\n * like UTF-8 before transformation; speed cost is\n * utterly prohibitive. The JavaScript standard\n * itself needs to look at this: it should start\n * providing access to strings as preformed UTF-8\n * 8-bit unsigned value arrays.\n */\nfunction md5blk(s: string) {\n  /* I figured global was faster.   */\n  var md5blks = [],\n    i; /* Andy King said do it this way. */\n  for (i = 0; i < 64; i += 4) {\n    md5blks[i >> 2] =\n      s.charCodeAt(i) +\n      (s.charCodeAt(i + 1) << 8) +\n      (s.charCodeAt(i + 2) << 16) +\n      (s.charCodeAt(i + 3) << 24);\n  }\n  return md5blks;\n}\n\nvar hex_chr = '0123456789abcdef'.split('');\n\nfunction rhex(n: any) {\n  var s = '',\n    j = 0;\n  for (; j < 4; j++)\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0f] + hex_chr[(n >> (j * 8)) & 0x0f];\n  return s;\n}\n\nfunction hex(x: any) {\n  for (var i = 0; i < x.length; i++) x[i] = rhex(x[i]);\n  return x.join('');\n}\n\nfunction md5(s: string) {\n  return hex(md51(s));\n}\n\n/* this function is much faster,\n  so if possible we use it. Some IEs\n  are the only ones I know of that\n  need the idiotic second function,\n  generated by an if clause.  */\n\nvar add32 = function (a: any, b: any) {\n  return (a + b) & 0xffffffff;\n};\n\nif (md5('hello') != '5d41402abc4b2a76b9719d911017c592') {\n  add32 = function (x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff),\n      msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xffff);\n  };\n}\n\nexport const md5hash = (s: string) => md5(s);\n","import { defaultColors } from 'defaults';\r\nimport { md5hash } from 'md5';\r\nimport { LetterPickFontSettings, LetterPicSettings } from 'types/core';\r\n\r\nexport const drawText = (\r\n  context: CanvasRenderingContext2D,\r\n  settings: LetterPickFontSettings,\r\n  text: string\r\n) => {\r\n  const { width, height } = context.canvas;\r\n  var fontSize = width * settings.fontSize;\r\n  context.font = `${fontSize}px ${settings.font}`;\r\n  context.textAlign = 'center';\r\n\r\n  var posX = width / 2;\r\n  var posY = (fontSize + height) * 0.45;\r\n\r\n  if (settings.fontStrokeColor) {\r\n    context.shadowColor = settings.fontStrokeColor;\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 3;\r\n  }\r\n\r\n  context.fillStyle = settings.fontColor;\r\n  context.fillText(text, posX, posY);\r\n};\r\n\r\nexport const getPreparedCanvasContext = (\r\n  settings: LetterPicSettings\r\n): CanvasRenderingContext2D => {\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = settings.size;\r\n  canvas.height = settings.size;\r\n  return canvas.getContext('2d')!;\r\n};\r\n\r\nexport const getInitials = (text: string) => {\r\n  var splitted = text.split(' ');\r\n  var result = splitted[0].charAt(0).toUpperCase();\r\n  for (var i = 1; i < 2; i++) {\r\n    if (splitted.length > i) {\r\n      result += splitted[i].charAt(0).toUpperCase();\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst stringToInteger = (s: string): number =>\r\n  parseInt(md5hash(s).substring(0, 8), 16);\r\n\r\nexport const getItemByString = <T>(s: string, arr: T[]): T => {\r\n  const idx = Math.abs(stringToInteger(s)) % arr.length;\r\n  return arr[idx];\r\n};\r\n\r\nexport const getRandomColorByString = (s: string) =>\r\n  `#${md5hash(s).substring(0, 6)}`;\r\n\r\nexport const getDefinedColorByString = (\r\n  settings: LetterPicSettings,\r\n  s: string\r\n) => {\r\n  const colors = settings.colors || defaultColors;\r\n  return getItemByString(s, colors);\r\n};\r\n","import {\r\n  drawText,\r\n  getDefinedColorByString,\r\n  getPreparedCanvasContext,\r\n} from 'helpers';\r\nimport type { LetterPicProvider, LetterPicSettings } from 'types/core';\r\n\r\nexport const palette: LetterPicProvider = (\r\n  text: string,\r\n  key: string,\r\n  settings: LetterPicSettings\r\n) => {\r\n  const context = getPreparedCanvasContext(settings);\r\n  context.fillStyle = getDefinedColorByString(settings, key);\r\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n  drawText(context, settings, text);\r\n  return context.canvas;\r\n};\r\n","import {\r\n  drawText,\r\n  getDefinedColorByString,\r\n  getItemByString,\r\n  getPreparedCanvasContext,\r\n  getRandomColorByString,\r\n} from 'helpers';\r\nimport type {\r\n  LetterPicGradient,\r\n  LetterPicProvider,\r\n  LetterPicSettings,\r\n} from 'types/core';\r\n\r\nconst getLinearGradient = (\r\n  context: CanvasRenderingContext2D,\r\n  colors: LetterPicGradient\r\n): CanvasGradient => {\r\n  const gradient = context.createLinearGradient(0, 0, 0, context.canvas.height);\r\n  var gradientStep = 1 / (colors.length - 1);\r\n  for (var i = 0; i < colors.length; i++) {\r\n    gradient.addColorStop(i * gradientStep, colors[i]);\r\n  }\r\n  return gradient;\r\n};\r\n\r\n// const reverseString = (s: string) => s.split('').reverse().join('');\r\n\r\nexport const gradient: LetterPicProvider = (\r\n  text: string,\r\n  key: string,\r\n  settings: LetterPicSettings\r\n) => {\r\n  const context = getPreparedCanvasContext(settings);\r\n\r\n  let gradient: LetterPicGradient;\r\n  if (settings.gradients !== undefined && settings.gradients.length > 0) {\r\n    gradient = getItemByString(key, settings.gradients);\r\n  } else {\r\n    const startColor = getDefinedColorByString(settings, key);\r\n    const endColor = getRandomColorByString(key); // getDefinedColorByString(settings, reverseString(key));\r\n    gradient = [startColor, endColor];\r\n  }\r\n\r\n  context.fillStyle = getLinearGradient(context, gradient);\r\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n  drawText(context, settings, text);\r\n  return context.canvas;\r\n};\r\n","import {\r\n  drawText,\r\n  getPreparedCanvasContext,\r\n  getRandomColorByString,\r\n} from 'helpers';\r\nimport type { LetterPicProvider, LetterPicSettings } from 'types/core';\r\n\r\nexport const color: LetterPicProvider = (\r\n  text: string,\r\n  key: string,\r\n  settings: LetterPicSettings\r\n) => {\r\n  const context = getPreparedCanvasContext(settings);\r\n  context.fillStyle = getRandomColorByString(key);\r\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n  drawText(context, settings, text);\r\n  return context.canvas;\r\n};\r\n","import {\r\n  LetterPicProvider,\r\n  LetterPicFillType,\r\n  LetterPicSettings,\r\n} from 'types/core';\r\nimport { LETTER_PIC_DEFAULTS } from 'defaults';\r\nimport { palette } from 'providers/palette';\r\nimport { gradient } from 'providers/gradient';\r\nimport { color } from 'providers/color';\r\n// import { bgProviderImage } from 'providers/bgProviderImage.ts1';\r\nimport { getInitials } from 'helpers';\r\n\r\nconst PROVIDERS: Record<LetterPicFillType, LetterPicProvider> = {\r\n  palette,\r\n  gradient,\r\n  color,\r\n};\r\n\r\nconst cache: Partial<Record<string, string>> = {};\r\n\r\nexport const draw = (\r\n  name: string,\r\n  userSettings?: Partial<LetterPicSettings>,\r\n  key: string = name\r\n) => {\r\n  const settingsWithDefaults: LetterPicSettings = {\r\n    ...LETTER_PIC_DEFAULTS,\r\n    ...userSettings,\r\n  };\r\n\r\n  const provider = PROVIDERS[settingsWithDefaults.fill];\r\n\r\n  const asCanvas = () => {\r\n    const initials = getInitials(name);\r\n    return provider(initials, key, settingsWithDefaults);\r\n  };\r\n\r\n  const asDataString = (): string => {\r\n    if (cache[key] === undefined) {\r\n      cache[key] = asCanvas().toDataURL();\r\n    }\r\n    return cache[key]!;\r\n  };\r\n\r\n  const asImage = () => {\r\n    const img = document.createElement('img');\r\n    img.src = asDataString();\r\n    return img;\r\n  };\r\n\r\n  const insureImg = (img: HTMLImageElement) => {\r\n    const imgErrorHandler = () => {\r\n      img.removeEventListener('error', imgErrorHandler);\r\n      img.src = asDataString();\r\n    };\r\n\r\n    const imgLoadHandler = () => {\r\n      img.removeEventListener('error', imgErrorHandler);\r\n      img.removeEventListener('load', imgLoadHandler);\r\n    };\r\n\r\n    img.addEventListener('error', imgErrorHandler);\r\n    img.addEventListener('load', imgLoadHandler);\r\n  };\r\n\r\n  return { asDataString, asImage, asCanvas, insureImg };\r\n};\r\n\r\n// function isImageOk(img: HTMLImageElement): boolean {\r\n//   if (!img.complete || (typeof img.naturalWidth !== \"undefined\" && img.naturalWidth === 0)) {\r\n//       return false;\r\n//   }\r\n//   return true;\r\n// }\r\n\r\n// $.fn.letterpic = function (options) {\r\n//     var self = this;\r\n//     self.$letterpics = [];\r\n//     self.options = options || {};\r\n\r\n//     var lp = new LetterPic(options);\r\n\r\n//     this.each(function () {\r\n//         var $el = $(this);\r\n\r\n//         if ($el.is(\"img\")) {\r\n//             if (!isImageOk($el[0])) {\r\n//                 var $canvas = replaceWithCanvas($el);\r\n//                 if(self.options.onImageError) {\r\n//                     self.options.onImageError($canvas, $el.attr('src'));\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 $el.on(\"error\", onImageError);\r\n//             }\r\n//         }\r\n//         else {\r\n//             replaceWithCanvas($el);\r\n//         }\r\n//     });\r\n\r\n//     function getKey($el) {\r\n//         var key =\r\n//             $el.data().letterpicKey ||\r\n//             $el.data().letterpicUserId ||\r\n//             $el.data().userid ||\r\n//             getInitials($el);\r\n\r\n//         return key;\r\n//     }\r\n\r\n//     function getInitials($el) {\r\n//         var name = $el.attr(\"title\");\r\n\r\n//         var splitted = name.split(\" \");\r\n//         var result = splitted[0].charAt(0).toUpperCase();\r\n//         for(var i = 1; i < lp.settings.maxInitialsLength; i++) {\r\n//             if (splitted.length > i) {\r\n//                 result += splitted[i].charAt(0).toUpperCase();\r\n//             }\r\n//         }\r\n\r\n//         return result;\r\n//     }\r\n\r\n//     function isImageOk(img) {\r\n//         if (!img.complete || (typeof img.naturalWidth !== \"undefined\" && img.naturalWidth === 0)) {\r\n//             return false;\r\n//         }\r\n//         return true;\r\n//     }\r\n\r\n//     function onImageError(event) {\r\n//         var $img = $(event.target);\r\n//         $img.off(\"error\", onImageError);\r\n//         replaceWithCanvas($img, true);\r\n\r\n//         if(self.options.onImageError) {\r\n//             self.options.onImageError($canvas, $img.attr('src'));\r\n//         }\r\n//     }\r\n\r\n//     function replaceWithCanvas($el, isBrokenImage) {\r\n//         var $canvas;\r\n//         if ($el.is(\"canvas\")) {\r\n//             $canvas = $el;\r\n//         }\r\n//         else {\r\n//             $canvas = $(\"<canvas></canvas>\");\r\n//             $.each($el[0].attributes, function (i, attribute) {\r\n//                 $canvas.attr(attribute.name, attribute.value);\r\n//             });\r\n//             $el.replaceWith($canvas);\r\n//         }\r\n\r\n//         var key = getKey($canvas);\r\n//         var text = getInitials($canvas);\r\n//         lp.drawProvider.draw($canvas, key, text);\r\n\r\n//         self.$letterpics.push($canvas);\r\n\r\n//         if(self.options.onElementReplaced) {\r\n//             isBrokenImage = isBrokenImage || false;\r\n//             self.options.onElementReplaced($canvas, isBrokenImage);\r\n//         }\r\n\r\n//         return $canvas;\r\n//     }\r\n\r\n//     return $($.map(self.$letterpics, function($el){\r\n//         return $el.get();\r\n//     }));;\r\n// };\r\n"],"names":[],"mappings":"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"}