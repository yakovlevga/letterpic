{"version":3,"file":"index.js","sources":["../src/defaultSettings.ts","../src/md5.ts","../src/helpers.ts","../src/providers/palette.ts","../src/providers/gradient.ts","../src/providers/color.ts","../src/letterpic-node.ts"],"sourcesContent":["import { LetterPicSettings } from 'types/core';\r\n\r\nconst colors = [\r\n  '#f44336',\r\n  '#673ab7',\r\n  '#03a9f4',\r\n  '#4caf50',\r\n  '#ffeb3b',\r\n  '#ff5722',\r\n  '#607d8b',\r\n  '#e91e63',\r\n  '#3f51b5',\r\n  '#00bcd4',\r\n  '#8bc34a',\r\n  '#ffc107',\r\n  '#795548',\r\n  '#2196f3',\r\n  '#009688',\r\n  '#cddc39',\r\n  '#ff9800',\r\n  '#9e9e9e',\r\n  '#1abc9c',\r\n  '#2ecc71',\r\n  '#3498db',\r\n  '#9b59b6',\r\n  '#34495e',\r\n  '#16a085',\r\n  '#27ae60',\r\n  '#2980b9',\r\n  '#8e44ad',\r\n  '#f1c40f',\r\n  '#e67e22',\r\n  '#e74c3c',\r\n  '#ecf0f1',\r\n  '#95a5a6',\r\n  '#f39c12',\r\n  '#d35400',\r\n  '#c0392b',\r\n];\r\n\r\nexport const LETTER_PIC_DEFAULTS: LetterPicSettings = {\r\n  fill: 'gradient',\r\n  size: 100,\r\n  font: 'Arial',\r\n  fontColor: '#fff',\r\n  fontStrokeColor: '#000',\r\n  fontSize: 0.45,\r\n  maxInitialsLength: 2,\r\n  colors,\r\n};\r\n","/**\n * Credit http://www.myersdaily.org/joseph/javascript/md5-text.html\n */\n\nfunction md5cycle(x: any, k: any) {\n  var a = x[0],\n    b = x[1],\n    c = x[2],\n    d = x[3];\n\n  a = ff(a, b, c, d, k[0], 7, -680876936);\n  d = ff(d, a, b, c, k[1], 12, -389564586);\n  c = ff(c, d, a, b, k[2], 17, 606105819);\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\n  a = ff(a, b, c, d, k[4], 7, -176418897);\n  d = ff(d, a, b, c, k[5], 12, 1200080426);\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\n  b = ff(b, c, d, a, k[7], 22, -45705983);\n  a = ff(a, b, c, d, k[8], 7, 1770035416);\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\n  c = ff(c, d, a, b, k[10], 17, -42063);\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\n  a = ff(a, b, c, d, k[12], 7, 1804603682);\n  d = ff(d, a, b, c, k[13], 12, -40341101);\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\n  b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n  a = gg(a, b, c, d, k[1], 5, -165796510);\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\n  c = gg(c, d, a, b, k[11], 14, 643717713);\n  b = gg(b, c, d, a, k[0], 20, -373897302);\n  a = gg(a, b, c, d, k[5], 5, -701558691);\n  d = gg(d, a, b, c, k[10], 9, 38016083);\n  c = gg(c, d, a, b, k[15], 14, -660478335);\n  b = gg(b, c, d, a, k[4], 20, -405537848);\n  a = gg(a, b, c, d, k[9], 5, 568446438);\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\n  c = gg(c, d, a, b, k[3], 14, -187363961);\n  b = gg(b, c, d, a, k[8], 20, 1163531501);\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\n  d = gg(d, a, b, c, k[2], 9, -51403784);\n  c = gg(c, d, a, b, k[7], 14, 1735328473);\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n  a = hh(a, b, c, d, k[5], 4, -378558);\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\n  c = hh(c, d, a, b, k[11], 16, 1839030562);\n  b = hh(b, c, d, a, k[14], 23, -35309556);\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\n  d = hh(d, a, b, c, k[4], 11, 1272893353);\n  c = hh(c, d, a, b, k[7], 16, -155497632);\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\n  a = hh(a, b, c, d, k[13], 4, 681279174);\n  d = hh(d, a, b, c, k[0], 11, -358537222);\n  c = hh(c, d, a, b, k[3], 16, -722521979);\n  b = hh(b, c, d, a, k[6], 23, 76029189);\n  a = hh(a, b, c, d, k[9], 4, -640364487);\n  d = hh(d, a, b, c, k[12], 11, -421815835);\n  c = hh(c, d, a, b, k[15], 16, 530742520);\n  b = hh(b, c, d, a, k[2], 23, -995338651);\n\n  a = ii(a, b, c, d, k[0], 6, -198630844);\n  d = ii(d, a, b, c, k[7], 10, 1126891415);\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\n  b = ii(b, c, d, a, k[5], 21, -57434055);\n  a = ii(a, b, c, d, k[12], 6, 1700485571);\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\n  c = ii(c, d, a, b, k[10], 15, -1051523);\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\n  a = ii(a, b, c, d, k[8], 6, 1873313359);\n  d = ii(d, a, b, c, k[15], 10, -30611744);\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\n  b = ii(b, c, d, a, k[13], 21, 1309151649);\n  a = ii(a, b, c, d, k[4], 6, -145523070);\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\n  c = ii(c, d, a, b, k[2], 15, 718787259);\n  b = ii(b, c, d, a, k[9], 21, -343485551);\n\n  x[0] = add32(a, x[0]);\n  x[1] = add32(b, x[1]);\n  x[2] = add32(c, x[2]);\n  x[3] = add32(d, x[3]);\n}\n\nfunction cmn(q: any, a: any, b: any, x: any, s: any, t: any) {\n  a = add32(add32(a, q), add32(x, t));\n  return add32((a << s) | (a >>> (32 - s)), b);\n}\n\nfunction ff(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\n\nfunction gg(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\n\nfunction hh(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a: any, b: any, c: any, d: any, x: any, s: any, t: any) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction md51(s: string) {\n  // var txt = '';\n  var n = s.length,\n    state = [1732584193, -271733879, -1732584194, 271733878],\n    i;\n  for (i = 64; i <= s.length; i += 64) {\n    md5cycle(state, md5blk(s.substring(i - 64, i)));\n  }\n  s = s.substring(i - 64);\n  var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (i = 0; i < s.length; i++)\n    tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n  tail[i >> 2] |= 0x80 << (i % 4 << 3);\n  if (i > 55) {\n    md5cycle(state, tail);\n    for (i = 0; i < 16; i++) tail[i] = 0;\n  }\n  tail[14] = n * 8;\n  md5cycle(state, tail);\n  return state;\n}\n\n/* there needs to be support for Unicode here,\n * unless we pretend that we can redefine the MD-5\n * algorithm for multi-byte characters (perhaps\n * by adding every four 16-bit characters and\n * shortening the sum to 32 bits). Otherwise\n * I suggest performing MD-5 as if every character\n * was two bytes--e.g., 0040 0025 = @%--but then\n * how will an ordinary MD-5 sum be matched?\n * There is no way to standardize text to something\n * like UTF-8 before transformation; speed cost is\n * utterly prohibitive. The JavaScript standard\n * itself needs to look at this: it should start\n * providing access to strings as preformed UTF-8\n * 8-bit unsigned value arrays.\n */\nfunction md5blk(s: string) {\n  /* I figured global was faster.   */\n  var md5blks = [],\n    i; /* Andy King said do it this way. */\n  for (i = 0; i < 64; i += 4) {\n    md5blks[i >> 2] =\n      s.charCodeAt(i) +\n      (s.charCodeAt(i + 1) << 8) +\n      (s.charCodeAt(i + 2) << 16) +\n      (s.charCodeAt(i + 3) << 24);\n  }\n  return md5blks;\n}\n\nvar hex_chr = '0123456789abcdef'.split('');\n\nfunction rhex(n: any) {\n  var s = '',\n    j = 0;\n  for (; j < 4; j++)\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0f] + hex_chr[(n >> (j * 8)) & 0x0f];\n  return s;\n}\n\nfunction hex(x: any) {\n  for (var i = 0; i < x.length; i++) x[i] = rhex(x[i]);\n  return x.join('');\n}\n\nfunction md5(s: string) {\n  return hex(md51(s));\n}\n\n/* this function is much faster,\n  so if possible we use it. Some IEs\n  are the only ones I know of that\n  need the idiotic second function,\n  generated by an if clause.  */\n\nvar add32 = function (a: any, b: any) {\n  return (a + b) & 0xffffffff;\n};\n\nif (md5('hello') != '5d41402abc4b2a76b9719d911017c592') {\n  add32 = function (x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff),\n      msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xffff);\n  };\n}\n\nexport const md5hash = (s: string) => md5(s);\n","import { md5hash } from 'md5';\r\nimport { LetterPickFontSettings, LetterPicSettings } from 'types/core';\r\n\r\nexport const drawText = (\r\n  context: CanvasRenderingContext2D,\r\n  settings: LetterPickFontSettings,\r\n  text: string\r\n) => {\r\n  const { width, height } = context.canvas;\r\n  var fontSize = width * settings.fontSize;\r\n  context.font = `${fontSize}px ${settings.font}`;\r\n  context.textAlign = 'center';\r\n\r\n  var posX = width / 2;\r\n  var posY = (fontSize + height) * 0.45;\r\n\r\n  if (settings.fontStrokeColor) {\r\n    context.shadowColor = settings.fontStrokeColor;\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 3;\r\n  }\r\n\r\n  context.fillStyle = settings.fontColor;\r\n  context.fillText(text, posX, posY);\r\n};\r\n\r\nexport const getInitials = (text: string) => {\r\n  var splitted = text.split(' ');\r\n  var result = splitted[0].charAt(0).toUpperCase();\r\n  for (var i = 1; i < 2; i++) {\r\n    if (splitted.length > i) {\r\n      result += splitted[i].charAt(0).toUpperCase();\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst stringToInteger = (s: string): number =>\r\n  parseInt(md5hash(s).substring(0, 8), 16);\r\n\r\nexport const getItemByString = <T>(s: string, arr: T[]): T => {\r\n  const idx = Math.abs(stringToInteger(s)) % arr.length;\r\n  return arr[idx];\r\n};\r\n\r\nexport const getRandomColorByString = (s: string) =>\r\n  `#${md5hash(s).substring(0, 6)}`;\r\n\r\nexport const getDefinedColorByString = (\r\n  settings: LetterPicSettings,\r\n  s: string\r\n) => getItemByString(s, settings.colors!);\r\n","import { drawText, getDefinedColorByString } from 'helpers';\r\nimport type { LetterPicProvider } from 'types/core';\r\n\r\nexport const palette: LetterPicProvider = (text, key, settings, context) => {\r\n  context.fillStyle = getDefinedColorByString(settings, key);\r\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n  drawText(context, settings, text);\r\n  return context.canvas;\r\n};\r\n","import {\r\n  drawText,\r\n  getDefinedColorByString,\r\n  getItemByString,\r\n  getRandomColorByString,\r\n} from 'helpers';\r\nimport type { LetterPicGradient, LetterPicProvider } from 'types/core';\r\n\r\nconst getLinearGradient = (\r\n  context: CanvasRenderingContext2D,\r\n  colors: LetterPicGradient\r\n): CanvasGradient => {\r\n  const gradient = context.createLinearGradient(0, 0, 0, context.canvas.height);\r\n  var gradientStep = 1 / (colors.length - 1);\r\n  for (var i = 0; i < colors.length; i++) {\r\n    gradient.addColorStop(i * gradientStep, colors[i]);\r\n  }\r\n  return gradient;\r\n};\r\n\r\n// const reverseString = (s: string) => s.split('').reverse().join('');\r\n\r\nexport const gradient: LetterPicProvider = (text, key, settings, context) => {\r\n  let gradient: LetterPicGradient;\r\n  if (settings.gradients !== undefined && settings.gradients.length > 0) {\r\n    gradient = getItemByString(key, settings.gradients);\r\n  } else {\r\n    const startColor = getDefinedColorByString(settings, key);\r\n    const endColor = getRandomColorByString(key); // getDefinedColorByString(settings, reverseString(key));\r\n    gradient = [startColor, endColor];\r\n  }\r\n\r\n  context.fillStyle = getLinearGradient(context, gradient);\r\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n  drawText(context, settings, text);\r\n  return context.canvas;\r\n};\r\n","import { drawText, getRandomColorByString } from 'helpers';\r\nimport type { LetterPicProvider } from 'types/core';\r\n\r\nexport const color: LetterPicProvider = (text, key, settings, context) => {\r\n  context.fillStyle = getRandomColorByString(key);\r\n  context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n  drawText(context, settings, text);\r\n  return context.canvas;\r\n};\r\n","import {\r\n  LetterPicProvider,\r\n  LetterPicFillType,\r\n  LetterPicSettings,\r\n} from 'types/core';\r\nimport { LETTER_PIC_DEFAULTS } from 'defaultSettings';\r\nimport { palette } from 'providers/palette';\r\nimport { gradient } from 'providers/gradient';\r\nimport { color } from 'providers/color';\r\nimport { getInitials } from 'helpers';\r\nimport { createCanvas } from 'canvas';\r\n\r\nconst Providers: Record<LetterPicFillType, LetterPicProvider> = {\r\n  palette,\r\n  gradient,\r\n  color,\r\n};\r\n\r\nconst cache: Partial<Record<string, string>> = {};\r\n\r\nexport const draw = (\r\n  name: string,\r\n  userSettings?: Partial<LetterPicSettings>,\r\n  key: string = name\r\n) => {\r\n  const settingsWithDefaults: LetterPicSettings = {\r\n    ...LETTER_PIC_DEFAULTS,\r\n    ...userSettings,\r\n  };\r\n\r\n  const provider = Providers[settingsWithDefaults.fill];\r\n\r\n  const asCanvas = () => {\r\n    const canvas = createCanvas(200, 200);\r\n    const context = canvas.getContext('2d');\r\n\r\n    const initials = getInitials(name);\r\n    return provider(initials, key, settingsWithDefaults, context);\r\n  };\r\n\r\n  const asDataUrl = (\r\n    mimeType?: 'image/jpeg' | 'image/png',\r\n    quality?: number\r\n  ) => {\r\n    if (cache[key] === undefined) {\r\n      cache[key] = asCanvas().toDataURL(mimeType, quality);\r\n    }\r\n    return cache[key]!;\r\n  };\r\n\r\n  return { asCanvas, asDataUrl };\r\n};\r\n\r\n// function isImageOk(img: HTMLImageElement): boolean {\r\n//   if (!img.complete || (typeof img.naturalWidth !== \"undefined\" && img.naturalWidth === 0)) {\r\n//       return false;\r\n//   }\r\n//   return true;\r\n// }\r\n\r\n// $.fn.letterpic = function (options) {\r\n//     var self = this;\r\n//     self.$letterpics = [];\r\n//     self.options = options || {};\r\n\r\n//     var lp = new LetterPic(options);\r\n\r\n//     this.each(function () {\r\n//         var $el = $(this);\r\n\r\n//         if ($el.is(\"img\")) {\r\n//             if (!isImageOk($el[0])) {\r\n//                 var $canvas = replaceWithCanvas($el);\r\n//                 if(self.options.onImageError) {\r\n//                     self.options.onImageError($canvas, $el.attr('src'));\r\n//                 }\r\n//             }\r\n//             else {\r\n//                 $el.on(\"error\", onImageError);\r\n//             }\r\n//         }\r\n//         else {\r\n//             replaceWithCanvas($el);\r\n//         }\r\n//     });\r\n\r\n//     function getKey($el) {\r\n//         var key =\r\n//             $el.data().letterpicKey ||\r\n//             $el.data().letterpicUserId ||\r\n//             $el.data().userid ||\r\n//             getInitials($el);\r\n\r\n//         return key;\r\n//     }\r\n\r\n//     function getInitials($el) {\r\n//         var name = $el.attr(\"title\");\r\n\r\n//         var splitted = name.split(\" \");\r\n//         var result = splitted[0].charAt(0).toUpperCase();\r\n//         for(var i = 1; i < lp.settings.maxInitialsLength; i++) {\r\n//             if (splitted.length > i) {\r\n//                 result += splitted[i].charAt(0).toUpperCase();\r\n//             }\r\n//         }\r\n\r\n//         return result;\r\n//     }\r\n\r\n//     function isImageOk(img) {\r\n//         if (!img.complete || (typeof img.naturalWidth !== \"undefined\" && img.naturalWidth === 0)) {\r\n//             return false;\r\n//         }\r\n//         return true;\r\n//     }\r\n\r\n//     function onImageError(event) {\r\n//         var $img = $(event.target);\r\n//         $img.off(\"error\", onImageError);\r\n//         replaceWithCanvas($img, true);\r\n\r\n//         if(self.options.onImageError) {\r\n//             self.options.onImageError($canvas, $img.attr('src'));\r\n//         }\r\n//     }\r\n\r\n//     function replaceWithCanvas($el, isBrokenImage) {\r\n//         var $canvas;\r\n//         if ($el.is(\"canvas\")) {\r\n//             $canvas = $el;\r\n//         }\r\n//         else {\r\n//             $canvas = $(\"<canvas></canvas>\");\r\n//             $.each($el[0].attributes, function (i, attribute) {\r\n//                 $canvas.attr(attribute.name, attribute.value);\r\n//             });\r\n//             $el.replaceWith($canvas);\r\n//         }\r\n\r\n//         var key = getKey($canvas);\r\n//         var text = getInitials($canvas);\r\n//         lp.drawProvider.draw($canvas, key, text);\r\n\r\n//         self.$letterpics.push($canvas);\r\n\r\n//         if(self.options.onElementReplaced) {\r\n//             isBrokenImage = isBrokenImage || false;\r\n//             self.options.onElementReplaced($canvas, isBrokenImage);\r\n//         }\r\n\r\n//         return $canvas;\r\n//     }\r\n\r\n//     return $($.map(self.$letterpics, function($el){\r\n//         return $el.get();\r\n//     }));;\r\n// };\r\n"],"names":["canvas","createCanvas"],"mappings":"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"}